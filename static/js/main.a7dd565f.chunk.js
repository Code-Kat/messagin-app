(this["webpackJsonpmessaging-app"]=this["webpackJsonpmessaging-app"]||[]).push([[0],{63:function(e,s,c){},64:function(e,s,c){},65:function(e,s,c){},66:function(e,s,c){},73:function(e,s,c){},93:function(e,s,c){"use strict";c.r(s);var a=c(2),t=c(0),n=c.n(t),r=c(13),i=c.n(r),j=(c(63),c(54)),d=c(29),b=(c(64),c(65),c(46)),l=c.n(b),h=c(47),o=c.n(h),m=c(48),O=c.n(m),u=c(110),x=c(111),_=c(107);c(66);var f=function(){return Object(a.jsxs)("div",{className:"sidebarChat",children:[Object(a.jsx)(x.a,{}),Object(a.jsxs)("div",{className:"sidebarChat__info",children:[Object(a.jsx)("h2",{children:"Room name"}),Object(a.jsx)("p",{children:"This is the last message"})]})]})};var p=function(){return Object(a.jsxs)("div",{className:"sidebar",children:[Object(a.jsxs)("div",{className:"sidebar__header",children:[Object(a.jsxs)("div",{className:"sidebar__headerLeft",children:[Object(a.jsx)(u.a,{children:Object(a.jsx)(l.a,{className:"sidebar__donutIcon"})}),Object(a.jsx)(u.a,{children:Object(a.jsx)(o.a,{className:"sidebar__chatIcon"})}),Object(a.jsx)(u.a,{children:Object(a.jsx)(O.a,{className:"sidebar__moreVertIcon"})})]}),Object(a.jsx)(x.a,{src:"https://i.pinimg.com/736x/33/32/6d/33326dcddbf15c56d631e374b62338dc.jpg"})]}),Object(a.jsx)("div",{className:"sidebar__search",children:Object(a.jsxs)("div",{className:"sidebar__searchContainer",children:[Object(a.jsx)(_.a,{className:"sidebar__searchOutlined"}),Object(a.jsx)("input",{placeholder:"Search or start new chat",type:"text"})]})}),Object(a.jsxs)("div",{className:"sidebar__chats",children:[Object(a.jsx)(f,{}),Object(a.jsx)(f,{}),Object(a.jsx)(f,{})]})]})},v=c(31),g=c.n(v),N=c(49),y=c(108),C=c(109),I=c(52),w=c.n(I),k=(c(73),c(51)),F=c.n(k),L=c(50),S=c.n(L).a.create({baseURL:"http://localhost:9000"});var E=function(e){var s=e.messages,c=Object(t.useState)(""),n=Object(d.a)(c,2),r=n[0],i=n[1],j=function(){var e=Object(N.a)(g.a.mark((function e(s){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.next=3,S.post("/messages/new",{message:r,name:"DEMO APP",timestamp:"A long time ago (in a galaxy far, far away...",received:!1});case 3:i("");case 4:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"chat",children:[Object(a.jsxs)("div",{className:"chat__header",children:[Object(a.jsx)(x.a,{}),Object(a.jsxs)("div",{className:"chat__headerInfo",children:[Object(a.jsx)("h3",{children:"Room name"}),Object(a.jsx)("p",{children:"Last seen at..."})]}),Object(a.jsxs)("div",{className:"chat__headerRight",children:[Object(a.jsx)(u.a,{children:Object(a.jsx)(_.a,{className:"chat__searchOutlined"})}),Object(a.jsx)(u.a,{children:Object(a.jsx)(y.a,{className:"chat__attachFile"})}),Object(a.jsx)(u.a,{children:Object(a.jsx)(C.a,{className:"chat__moreVert"})})]})]}),Object(a.jsx)("div",{className:"chat__body",children:s.map((function(e){return Object(a.jsxs)("p",{className:"chat__message ".concat(e.received&&"chat__receiver"),children:[Object(a.jsxs)("span",{className:"chat__name",children:[" ",e.name," "]}),e.message,Object(a.jsx)("span",{className:"chat__timestamp",children:e.timestamp})]})}))}),Object(a.jsxs)("div",{className:"chat__footer",children:[Object(a.jsx)(F.a,{className:"chat__footerIcons"}),Object(a.jsxs)("form",{children:[Object(a.jsx)("input",{value:r,onChange:function(e){return i(e.target.value)},placeholder:"Type a message",text:"text"}),Object(a.jsx)("button",{onClick:j,type:"submit",children:"Click to send"})]}),Object(a.jsx)(w.a,{className:"chat__footerIcons chat__footerMicIcon"})]})]})},P=c(53),R=c.n(P);var T=function(){var e=Object(t.useState)([]),s=Object(d.a)(e,2),c=s[0],n=s[1];return Object(t.useEffect)((function(){S.get("/messages/sync").then((function(e){console.log(e.data)}))}),[]),Object(t.useEffect)((function(){var e=new R.a("2cf91c452b4b6048213a",{cluster:"ap3"}).subscribe("messages");return e.bind("inserted",(function(e){n([].concat(Object(j.a)(c),[e]))})),function(){e.unbind_all(),e.unsubscribe()}}),[c]),console.log(c),Object(a.jsx)("div",{className:"app",children:Object(a.jsxs)("div",{className:"app__body",children:[Object(a.jsx)(E,{messages:c}),Object(a.jsx)(p,{})]})})},D=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,112)).then((function(s){var c=s.getCLS,a=s.getFID,t=s.getFCP,n=s.getLCP,r=s.getTTFB;c(e),a(e),t(e),n(e),r(e)}))};i.a.render(Object(a.jsx)(n.a.StrictMode,{children:Object(a.jsx)(T,{})}),document.getElementById("root")),D()}},[[93,1,2]]]);
//# sourceMappingURL=main.a7dd565f.chunk.js.map